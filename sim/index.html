<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="option.css">
    <title>教材(仮)</title>
  </head>
  <body>
    
    <!--
    参考文献
    https://labo.nari-suke.com/?p=284
    -->
    
    
    <canvas id="my_canvas"></canvas>
    <script>
      var canvas = document.getElementById("my_canvas");
      var ctx = canvas.getContext('2d');
      var img = new Image();
      var cx=0, cy=0; //canvas(width, height)
      
      
      function paintBackGround() {
        ctx.fillStyle = 'rgb(255,255,255)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }
      
      function image() {
        img.src = './img/diamond.PNG';
        ctx.drawImage(img, cx/2-img.naturalWidth/2, cy/2-img.naturalHeight/2);
      }
      
      function text() {
        ctx.font = "30px 'ＭＳ ゴシック'";
        ctx.fillStyle = "black";
        ctx.fillText("Hello world", 100, 100);
      }
      
      function resize(canvas) {
        var displayWidth  = document.documentElement.clientWidth;
        var displayHeight = document.documentElement.clientHeight;

        if (canvas.width != displayWidth ||　canvas.height != displayHeight) {
          canvas.width  = displayWidth;
          canvas.height = displayHeight;
          cx = displayWidth;
          cy = displayHeight;
        }
      }
      
      function drawScene() {
        resize(ctx.canvas);
      }
      
      function log() {
        console.log(cx, cy);
        console.log(canvas.width, canvas.height);
        console.log(canvas.clientWidth, canvas.clientHeight);
        console.log();
      }
      
      function main() {
        drawScene();
        paintBackGround();
        image();
        text();
      }
      
      function draw() {
        window.requestAnimationFrame(main);
      }
      
      canvas.addEventListener('click', draw);
      window.requestAnimationFrame(main);
      
    </script>

  </body>
  
</html>
